{"version":3,"sources":["App-theme.ts","constants/RemoveBg.ts","utils/image.ts","utils/is-remove-bg-rate-limited.ts","contexts/app-context.tsx","components/gif-selector.tsx","images/check-solid.svg","components/image-preview.tsx","components/loading-indicator.tsx","images/question-solid.svg","components/checkbox.tsx","components/intensity-slider.tsx","images/exclamation-triangle-solid.svg","components/notification.tsx","components/info-notification.tsx","components/error-notification.tsx","components/processing-message/index.tsx","components/download-button/index.tsx","components/link.tsx","components/intensify-image/intensify-image-visual.tsx","components/intensify-image/index.tsx","components/header.tsx","components/footer.tsx","components/text-block.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["AppTheme","font","colors","background","buttons","action","main","hover","text","info","error","loading","link","normal","visited","RemoveBg","getFileUrl","file","URL","createObjectURL","loadImage","url","img","Image","Promise","resolve","reject","onload","onerror","e","src","imageToBase64","a","fetch","response","blob","reader","FileReader","onloadend","result","toString","readAsDataURL","removeBackground","base64Image","options","base64img","apiKey","format","size","type","removeBackgroundFromImageBase64","scaleImage","image","maxWidth","imgHeight","height","imgWidth","width","Math","min","aspectRatio","floor","canvas","document","createElement","context","getContext","drawImage","toDataURL","intensifyImage","intensity","maybeGifBlob","gif","Animated_GIF","repeat","disposal","intensifyConfig","frames","delay","setDelay","i","direction","clearRect","x","random","y","translate","addFrameImageData","getImageData","getBlobGIF","gifData","gifImage","destroy","isRemoveBgRateLimited","method","headers","ok","json","data","Boolean","attributes","api","free_calls","initialState","intensifiedImage","undefined","scaledImage","isLoading","hasError","processingMessage","useRemoveBg","removeBgRateLimited","AppStateContext","React","createContext","AppDispatchContext","appReducer","state","message","filename","Error","intensify","dispatch","console","log","files","item","originalImage","name","AppProvider","children","useReducer","useEffect","then","isRateLimited","Provider","value","useAppState","useContext","_path","GifSelectorContainer","styled","div","StyledLabel","label","props","theme","StyledInput","input","GifSelector","onFileSelected","htmlFor","accept","onChange","target","id","ImagePreviewContainer","ImagePreview","alt","Loader","LoadingIndicator","_excluded","_extends","Object","assign","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgCheckSolid","_ref","svgRef","title","titleId","focusable","className","role","xmlns","viewBox","ref","fill","d","ForwardRef","CheckboxContainer","disabled","HiddenCheckbox","attrs","StyledCheckbox","css","StyledCheck","Check","Checkbox","onChecked","isChecked","checked","IntensitySliderContainer","InputRangeContainer","IntensitySlider","onChangeComplete","minValue","maxValue","step","formatLabel","SvgQuestionSolid","Container","transparentize","backgroundColour","Message","Notification","icon","content","InfoNotifcation","themeContext","ThemeContext","color","SvgExclamationTriangleSolid","ErrorNotifcation","ProcessingMessage","StyledAnchor","DownloadButton","downloadName","split","href","download","Link","rel","IntensifyImageContainer","ControlsContainer","InfoContainer","IntensifyImageVisual","onImageSelected","onRemoveBackgroundChanged","onIntensityChanged","onIntensityChange","isRemoveBgDisabled","IntensifyImage","appDispatch","useAppDispatch","intensityChanged","imageSelected","HeaderContainer","header","Header","FooterContainer","footer","Footer","StyledTextBlock","p","TextBlock","AppBody","section","App","window","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b472a35c.chunk.js","sourcesContent":["import { DefaultTheme } from 'styled-components'\r\n\r\nconst AppTheme: DefaultTheme = {\r\n  font: \"'Courier New', Courier, monospace\",\r\n  colors: {\r\n    background: '#282c34',\r\n    buttons: {\r\n      action: {\r\n        main: '#e7a61a',\r\n        hover: '#e833e2',\r\n        text: '#282c34',\r\n      },\r\n    },\r\n    info: '#00eeff',\r\n    error: '#ff3636',\r\n    loading: '#1adee7',\r\n    link: {\r\n      normal: '#fff',\r\n      visited: '#ffa8b7',\r\n    },\r\n  },\r\n}\r\n\r\nexport { AppTheme }\r\n","export const RemoveBg = {\n  apiKey: 'z5M8j5y94LJZrAJuEiGfzqxN',\n  apiUrl: 'https://api.remove.bg/v1.0/account',\n}\n","import Animated_GIF from 'gif-transparency'\nimport { RemoveBgResult, removeBackgroundFromImageBase64, RemoveBgBase64Options } from 'remove.bg'\nimport { RemoveBg } from '../constants/'\n\nexport const getFileUrl: (file: File) => string = (file: File) => URL.createObjectURL(file)\n\nexport const loadImage: (url: string) => Promise<HTMLImageElement> = (url: string) => {\n  const img = new Image()\n  const imgPromise = new Promise<HTMLImageElement>((resolve, reject) => {\n    img.onload = () => resolve(img)\n    img.onerror = (e) => reject(e)\n    img.src = url\n  })\n  return imgPromise\n}\n\nexport const imageToBase64: (url: string) => Promise<string> = async (url: string) => {\n  const response = await fetch(url)\n  const blob = await response.blob()\n  return await new Promise<string>((resolve, reject) => {\n    const reader = new FileReader()\n    reader.onloadend = () => {\n      if (reader?.result) {\n        const result: string = reader.result.toString()\n        resolve(result)\n      }\n    }\n    reader.onerror = reject\n    reader.readAsDataURL(blob)\n  })\n}\n\nexport const removeBackground: (base64Image: string) => Promise<HTMLImageElement> = async (base64Image: string) => {\n  const options: RemoveBgBase64Options = {\n    base64img: base64Image,\n    apiKey: RemoveBg.apiKey, // normally this shouldn't be in here, but its just a free account and for demo purposes\n    format: 'png',\n    size: 'preview',\n    type: 'auto',\n  }\n\n  const result: RemoveBgResult = await removeBackgroundFromImageBase64(options)\n\n  return loadImage(`data:image/jpeg;base64,${result?.base64img}`)\n}\n\nexport const scaleImage: (image: HTMLImageElement, maxWidth?: number) => Promise<HTMLImageElement> = (\n  image: HTMLImageElement,\n  maxWidth: number = 300\n) => {\n  // scaling image to max with\n  const imgHeight = image.height\n  const imgWidth = image.width\n  const width = Math.min(imgWidth, maxWidth)\n  const aspectRatio = imgWidth / imgHeight\n  const height = Math.floor(width / aspectRatio)\n\n  const canvas = document.createElement('canvas')\n  canvas.height = height\n  canvas.width = width\n  const context = canvas.getContext('2d')\n  if (context) {\n    context.drawImage(image, 0, 0, imgWidth, imgHeight, 0, 0, width, height)\n  }\n\n  return loadImage(canvas.toDataURL())\n}\n\nexport const intensifyImage: (image: HTMLImageElement, intensity: number) => Promise<HTMLImageElement> = async (\n  image: HTMLImageElement,\n  intensity: number\n) => {\n  const imgHeight = image.height\n  const imgWidth = image.width\n  const width = image.width\n  const height = image.height\n\n  const canvas = document.createElement('canvas')\n  canvas.height = height\n  canvas.width = width\n  const context = canvas.getContext('2d')\n  const maybeGifBlob = new Promise<HTMLImageElement>((resolve, reject) => {\n    const gif = new Animated_GIF({\n      repeat: 0,\n      width,\n      height,\n      disposal: 2,\n    })\n\n    if (context) {\n      try {\n        const intensifyConfig = {\n          frames: 6,\n          delay: 60,\n        }\n\n        gif.setDelay(intensifyConfig.delay)\n\n        for (let i = 0; i < intensifyConfig.frames; i++) {\n          const direction = i % 2 === 0 ? 1 : -1\n          context.clearRect(0, 0, width, height)\n          const x = Math.random() * intensity * direction\n          const y = Math.random() * intensity * direction\n          context.translate(x, y)\n          context.drawImage(image, 0, 0, imgWidth, imgHeight, 0, 0, width, height)\n          gif.addFrameImageData(context.getImageData(0, 0, width, height))\n        }\n\n        gif.getBlobGIF(async (gifData: Blob) => {\n          const gifImage = await loadImage(URL.createObjectURL(gifData))\n          resolve(gifImage)\n\n          gif.destroy()\n        })\n      } catch (e) {\n        reject(e)\n        gif.destroy()\n      }\n    } else {\n      reject('Context not found')\n      gif.destroy()\n    }\n  })\n\n  return maybeGifBlob\n}\n","import { RemoveBg } from '../constants/'\n\nexport const isRemoveBgRateLimited: () => Promise<boolean> = async () => {\n  try {\n    const response = await fetch(RemoveBg.apiUrl, {\n      method: 'GET',\n      headers: {\n        'X-API-Key': RemoveBg.apiKey,\n      },\n    })\n\n    if (!response.ok) {\n      return true\n    }\n\n    const data = await response.json()\n\n    /*\n    Api response data\n    {\n      data: {\n        attributes: {\n          credits: {\n            total: 200,\n            subscription: 150,\n            payg: 50,\n            enterprise: 0,\n          },\n          api: {\n            free_calls: 50,\n            sizes: 'all',\n          },\n        },\n      },\n    }\n    */\n    return Boolean(data?.attributes?.api?.free_calls)\n  } catch (error) {\n    // on any network error just play it safe an say we're rate limited\n    return false\n  }\n}\n","import React, { useEffect } from 'react'\n\nimport { getFileUrl, intensifyImage, removeBackground, imageToBase64, scaleImage, loadImage } from '../utils/image'\nimport { isRemoveBgRateLimited } from '../utils/is-remove-bg-rate-limited'\n\ntype Action =\n  | { type: 'processingMessage'; message: string }\n  | { type: 'loading'; isLoading: boolean }\n  | { type: 'intensifiedImage'; intensifiedImage: HTMLImageElement }\n  | { type: 'scaledImage'; scaledImage: HTMLImageElement; filename: string }\n  | { type: 'error'; hasError: boolean }\n  | { type: 'useRemoveBg'; useRemoveBg: boolean }\n  | { type: 'intensityChange'; intensity: number }\n  | { type: 'removeBgRateLimited'; removeBgRateLimited: boolean }\n  | { type: 'done' }\ntype Dispatch = (action: Action) => void\ntype State = {\n  intensifiedImage?: HTMLImageElement\n  scaledImage?: HTMLImageElement\n  filename?: string\n  isLoading: boolean\n  hasError: boolean\n  intensity: number\n  processingMessage: string\n  useRemoveBg: boolean\n  removeBgRateLimited: boolean\n}\ninterface AppProviderProps {\n  children: React.ReactNode\n}\n\nconst initialState: State = {\n  intensifiedImage: undefined,\n  scaledImage: undefined,\n  isLoading: false,\n  hasError: false,\n  intensity: 25,\n  processingMessage: '',\n  useRemoveBg: false,\n  removeBgRateLimited: false,\n}\n\nconst AppStateContext = React.createContext<State | undefined>(undefined)\nconst AppDispatchContext = React.createContext<Dispatch | undefined>(undefined)\n\nfunction appReducer(state: State, action: Action) {\n  switch (action.type) {\n    case 'processingMessage': {\n      return { ...state, processingMessage: action.message }\n    }\n    case 'loading': {\n      if (action.isLoading) {\n        return { ...state, ...initialState, isLoading: action.isLoading }\n      } else {\n        return { ...state, isLoading: action.isLoading }\n      }\n    }\n    case 'intensifiedImage': {\n      return { ...state, intensifiedImage: action.intensifiedImage }\n    }\n    case 'scaledImage': {\n      return { ...state, scaledImage: action.scaledImage, filename: action.filename }\n    }\n    case 'error': {\n      return { ...state, hasError: action.hasError }\n    }\n    case 'done': {\n      return { ...state, hasError: false, isLoading: false, processingMessage: '' }\n    }\n    case 'useRemoveBg': {\n      return { ...state, useRemoveBg: action.useRemoveBg }\n    }\n    case 'intensityChange': {\n      return { ...state, intensity: action.intensity }\n    }\n    case 'removeBgRateLimited': {\n      return { ...state, removeBgRateLimited: action.removeBgRateLimited }\n    }\n    default: {\n      throw new Error(`Unhandled action type: ${action}`)\n    }\n  }\n}\n\nasync function intensify(dispatch: Dispatch, img: HTMLImageElement, intensity: number) {\n  try {\n    dispatch({ type: 'processingMessage', message: 'Intensifying...' })\n    const intensifiedImage = await intensifyImage(img, intensity)\n    dispatch({ type: 'intensifiedImage', intensifiedImage })\n  } catch (error) {\n    dispatch({ type: 'error', hasError: true })\n    console.log(error)\n  } finally {\n    dispatch({ type: 'done' })\n  }\n}\n\nasync function intensityChanged(dispatch: Dispatch, intensity: number, scaledImage?: HTMLImageElement) {\n  dispatch({ type: 'intensityChange', intensity })\n  if (scaledImage) {\n    intensify(dispatch, scaledImage, intensity)\n  }\n}\n\nasync function imageSelected(dispatch: Dispatch, intensity: number, useRemoveBg: boolean, files?: FileList) {\n  if (files) {\n    const file = files.item(0)\n    if (file) {\n      try {\n        dispatch({ type: 'processingMessage', message: 'Loading image...' })\n        dispatch({ type: 'loading', isLoading: true })\n        const originalImage = await loadImage(getFileUrl(file))\n        dispatch({ type: 'processingMessage', message: 'Scaling image...' })\n        let scaledImage = await scaleImage(originalImage)\n        if (useRemoveBg) {\n          dispatch({ type: 'processingMessage', message: 'Converting to base64...' })\n          const base64Image = await imageToBase64(scaledImage.src)\n          dispatch({ type: 'processingMessage', message: 'Removing background...' })\n          scaledImage = await removeBackground(base64Image)\n        }\n        intensify(dispatch, scaledImage, intensity)\n        dispatch({ type: 'scaledImage', scaledImage, filename: file?.name })\n      } catch (error) {\n        dispatch({ type: 'error', hasError: true })\n        console.log(error)\n      } finally {\n        dispatch({ type: 'done' })\n      }\n    }\n  }\n}\n\nfunction AppProvider({ children }: AppProviderProps) {\n  const [state, dispatch] = React.useReducer(appReducer, initialState)\n\n  useEffect(() => {\n    isRemoveBgRateLimited().then((isRateLimited) =>\n      dispatch({ type: 'removeBgRateLimited', removeBgRateLimited: isRateLimited })\n    )\n  }, [])\n\n  return (\n    <AppStateContext.Provider value={state}>\n      <AppDispatchContext.Provider value={dispatch}>{children}</AppDispatchContext.Provider>\n    </AppStateContext.Provider>\n  )\n}\n\nfunction useAppState() {\n  const context = React.useContext(AppStateContext)\n  if (context === undefined) {\n    throw new Error('useAppState must be used within an AppProvider')\n  }\n  return context\n}\n\nfunction useAppDispatch() {\n  const context = React.useContext(AppDispatchContext)\n  if (context === undefined) {\n    throw new Error('useAppDispatch must be used within an AppProvider')\n  }\n  return context\n}\n\nexport { AppProvider, useAppDispatch, useAppState, imageSelected, intensityChanged }\n","import React, { FunctionComponent } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst GifSelectorContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n`\r\n\r\nconst StyledLabel = styled.label`\r\n  display: block;\r\n  padding: 5px 10px;\r\n  margin: 14px;\r\n  background-color: ${(props) => props.theme.colors.buttons.action.main};\r\n  color: ${(props) => props.theme.colors.buttons.action.text};\r\n  cursor: pointer;\r\n  user-select: none;\r\n  transition: all 0.15s ease;\r\n  border: 1px solid black;\r\n  font-size: calc(10px + 2vmin);\r\n\r\n  :hover {\r\n    transform: translate(8px, -8px);\r\n    box-shadow: -1px 1px ${(props) => props.theme.colors.buttons.action.hover},\r\n      -2px 2px ${(props) => props.theme.colors.buttons.action.hover},\r\n      -3px 3px ${(props) => props.theme.colors.buttons.action.hover},\r\n      -4px 4px ${(props) => props.theme.colors.buttons.action.hover},\r\n      -5px 5px ${(props) => props.theme.colors.buttons.action.hover},\r\n      -6px 6px ${(props) => props.theme.colors.buttons.action.hover},\r\n      -7px 7px ${(props) => props.theme.colors.buttons.action.hover},\r\n      -8px 8px ${(props) => props.theme.colors.buttons.action.hover};\r\n  }\r\n`\r\n\r\nconst StyledInput = styled.input`\r\n  opacity: 0;\r\n  display: none;\r\n`\r\n\r\ninterface GifSelectorProps {\r\n  onFileSelected: (files?: FileList) => void\r\n}\r\n\r\nexport const GifSelector: FunctionComponent<GifSelectorProps> = ({ onFileSelected }: GifSelectorProps) => (\r\n  <GifSelectorContainer>\r\n    <StyledLabel htmlFor=\"GifSelector\">Select an image to intensify</StyledLabel>\r\n    <StyledInput\r\n      type=\"file\"\r\n      accept=\"image/*\"\r\n      onChange={(e) => onFileSelected(e.target.files || undefined)}\r\n      name=\"GifSelector\"\r\n      id=\"GifSelector\"\r\n    />\r\n  </GifSelectorContainer>\r\n)\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCheckSolid(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fas\",\n    \"data-icon\": \"check\",\n    className: \"svg-inline--fa fa-check fa-w-16\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCheckSolid);\nexport default __webpack_public_path__ + \"static/media/check-solid.5dcf9568.svg\";\nexport { ForwardRef as ReactComponent };","import React, { FunctionComponent } from 'react'\r\nimport styled from 'styled-components'\r\n\r\n// prettier-ignore\r\nconst ImagePreviewContainer = styled.img`\r\n  margin: 10px; \r\n  background-image: /* tint image */ linear-gradient(\r\n      to right,\r\n      rgba(192, 192, 192, 0.75),\r\n      rgba(192, 192, 192, 0.75)\r\n    ),\r\n    /* checkered effect */ linear-gradient(to right, black 50%, white 50%),\r\n    linear-gradient(to bottom, black 50%, white 50%);\r\n  background-blend-mode: normal, difference, normal;\r\n  background-size: 2em 2em;\r\n`\r\n\r\ninterface ImagePreviewProps {\r\n  url: string\r\n}\r\n\r\nexport const ImagePreview: FunctionComponent<ImagePreviewProps> = ({ url }: ImagePreviewProps) => (\r\n  <ImagePreviewContainer src={url} alt=\"Preview of uploaded file\" />\r\n)\r\n","import React, { FunctionComponent } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst Loader = styled.div`\r\n  display: inline-block;\r\n  position: relative;\r\n  width: 80px;\r\n  height: 80px;\r\n  div {\r\n    box-sizing: border-box;\r\n    display: block;\r\n    position: absolute;\r\n    width: 64px;\r\n    height: 64px;\r\n    margin: 8px;\r\n    border: 8px solid;\r\n    border-radius: 50%;\r\n    animation: ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\r\n    border-color: ${(props) => props.theme.colors.loading} transparent transparent transparent;\r\n  }\r\n  div:nth-child(1) {\r\n    animation-delay: -0.15s;\r\n  }\r\n  div:nth-child(2) {\r\n    animation-delay: -0.3s;\r\n  }\r\n  div:nth-child(3) {\r\n    animation-delay: -0.45s;\r\n  }\r\n  @keyframes ring {\r\n    0% {\r\n      transform: rotate(0deg);\r\n    }\r\n    100% {\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n`\r\n\r\nexport const LoadingIndicator: FunctionComponent<{}> = () => (\r\n  <Loader>\r\n    <div></div>\r\n    <div></div>\r\n    <div></div>\r\n    <div></div>\r\n  </Loader>\r\n)\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgQuestionSolid(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fas\",\n    \"data-icon\": \"question\",\n    className: \"svg-inline--fa fa-question fa-w-12\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 384 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgQuestionSolid);\nexport default __webpack_public_path__ + \"static/media/question-solid.10f55fd6.svg\";\nexport { ForwardRef as ReactComponent };","import React, { FunctionComponent } from 'react'\nimport styled, { css } from 'styled-components'\nimport { ReactComponent as Check } from '../images/check-solid.svg'\n\ninterface CheckboxContainerProps {\n  disabled: boolean\n}\n\nconst CheckboxContainer = styled.div<CheckboxContainerProps>`\n  user-select: none;\n  cursor: pointer;\n  opacity: ${(props) => (props.disabled ? '0.5' : '1')};\n`\n\nconst StyledLabel = styled.label`\n  cursor: pointer;\n`\n\n// Hide checkbox visually but remain accessible to screen readers.\n// Source: https://polished.js.org/docs/#hidevisually\nconst HiddenCheckbox = styled.input.attrs({ type: 'checkbox' })`\n  border: 0;\n  clip: rect(0 0 0 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n`\n\ninterface StyledCheckboxProps {\n  checked: boolean\n  disabled: boolean\n}\n\nconst StyledCheckbox = styled.div<StyledCheckboxProps>`\n  cursor: pointer;\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  margin-right: 8px;\n  vertical-align: text-top;\n  text-align: center;\n  background: ${(props) => props.theme.colors.buttons.action.main};\n  transition: all 150ms;\n\n  ${(props) =>\n    !props.disabled\n      ? css`\n          :hover {\n            transform: translate(4px, -4px);\n            box-shadow: -1px 1px ${(props) => props.theme.colors.buttons.action.hover},\n              -2px 2px ${(props) => props.theme.colors.buttons.action.hover},\n              -3px 3px ${(props) => props.theme.colors.buttons.action.hover},\n              -4px 4px ${(props) => props.theme.colors.buttons.action.hover};\n          }\n        `\n      : ''}\n\n  ${HiddenCheckbox}:focus + & {\n    transform: translate(4px, -4px);\n    box-shadow: -1px 1px ${(props) => props.theme.colors.buttons.action.hover},\n      -2px 2px ${(props) => props.theme.colors.buttons.action.hover},\n      -3px 3px ${(props) => props.theme.colors.buttons.action.hover},\n      -4px 4px ${(props) => props.theme.colors.buttons.action.hover};\n  }\n`\n\nconst StyledCheck = styled(Check)`\n  height: 14px;\n  width: 14px;\n  color: ${(props) => props.theme.colors.buttons.action.text};\n`\n\ninterface CheckboxProps {\n  onChecked: (checked: boolean) => void\n  name: string\n  label: string\n  disabled: boolean\n  isChecked: boolean\n}\n\nexport const Checkbox: FunctionComponent<CheckboxProps> = ({\n  onChecked,\n  name,\n  label,\n  isChecked,\n  disabled,\n}: CheckboxProps) => {\n  const checked = isChecked && !disabled\n  return (\n    <CheckboxContainer disabled={disabled}>\n      <StyledLabel htmlFor={name}>\n        <HiddenCheckbox\n          type=\"checkbox\"\n          onChange={(e) => onChecked(Boolean(e.target.checked))}\n          name={name}\n          id={name}\n          checked={checked}\n          disabled={disabled}\n        />\n        <StyledCheckbox checked={checked} disabled={disabled}>\n          {checked ? <StyledCheck /> : null}\n        </StyledCheckbox>\n        {label}\n      </StyledLabel>\n    </CheckboxContainer>\n  )\n}\n","import React, { FunctionComponent } from 'react'\nimport styled from 'styled-components'\nimport InputRange from 'react-input-range'\nimport 'react-input-range/lib/css/index.css'\n\nconst IntensitySliderContainer = styled.div`\n  margin: 16px 0;\n`\n\nconst StyledLabel = styled.label`\n  display: block;\n  margin-bottom: 4px;\n`\n\nconst InputRangeContainer = styled.div`\n  .input-range__track--active {\n    background: ${(props) => props.theme.colors.buttons.action.hover};\n    border-color: ${(props) => props.theme.colors.buttons.action.hover};\n  }\n\n  .input-range__slider {\n    background: ${(props) => props.theme.colors.buttons.action.main};\n    border-color: ${(props) => props.theme.colors.buttons.action.main};\n    border-radius: 0;\n    border: 1px solid black;\n\n    :hover {\n      transform: translate(4px, -4px);\n      box-shadow: -1px 1px ${(props) => props.theme.colors.buttons.action.hover},\n        -2px 2px ${(props) => props.theme.colors.buttons.action.hover},\n        -3px 3px ${(props) => props.theme.colors.buttons.action.hover},\n        -4px 4px ${(props) => props.theme.colors.buttons.action.hover};\n    }\n  }\n`\n\ninterface IntensitySliderProps {\n  onChange: (value: number) => void\n  onChangeComplete: (value: number) => void\n  value: number\n}\n\nexport const IntensitySlider: FunctionComponent<IntensitySliderProps> = ({ onChange, onChangeComplete, value }) => {\n  const name = 'IntensitySlider'\n  return (\n    <IntensitySliderContainer>\n      <StyledLabel htmlFor={name}>Intensity</StyledLabel>\n      <InputRangeContainer>\n        <InputRange\n          name={name}\n          minValue={0}\n          maxValue={25}\n          step={1}\n          value={value}\n          formatLabel={() => ''}\n          onChangeComplete={(value) => {\n            if (typeof value === 'number') {\n              onChangeComplete(value)\n            }\n          }}\n          onChange={(value) => {\n            if (typeof value === 'number') {\n              onChange(value)\n            }\n          }}\n        />\n      </InputRangeContainer>\n    </IntensitySliderContainer>\n  )\n}\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgExclamationTriangleSolid(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"fas\",\n    \"data-icon\": \"exclamation-triangle\",\n    className: \"svg-inline--fa fa-exclamation-triangle fa-w-18\",\n    role: \"img\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 576 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgExclamationTriangleSolid);\nexport default __webpack_public_path__ + \"static/media/exclamation-triangle-solid.03d439fa.svg\";\nexport { ForwardRef as ReactComponent };","import React, { FunctionComponent } from 'react'\nimport styled from 'styled-components'\nimport { transparentize } from 'polished'\n\ninterface ContainerProps {\n  backgroundColour: string\n}\n\nconst Container = styled.div<ContainerProps>`\n  display: flex;\n  align-items: center;\n  background-color: ${(props) => transparentize(0.5, props.backgroundColour)};\n  border: 1px solid black;\n  padding: 8px 4px;\n  margin: 0 0 16px 0;\n`\nconst Message = styled.div`\n  margin-left: 8px;\n`\n\ninterface NotificationProps {\n  icon: React.ReactNode\n  content: React.ReactNode\n  backgroundColour: string\n}\n\nexport const Notification: FunctionComponent<NotificationProps> = ({ icon, content, backgroundColour }) => (\n  <Container backgroundColour={backgroundColour}>\n    {icon}\n    <Message>{content}</Message>\n  </Container>\n)\n","import React, { FunctionComponent, useContext } from 'react'\nimport { ThemeContext } from 'styled-components'\nimport { ReactComponent as Question } from '../images/question-solid.svg'\nimport { Notification } from './notification'\n\ninterface InfoNotificationProps {}\n\nexport const InfoNotifcation: FunctionComponent<InfoNotificationProps> = ({ children }) => {\n  const themeContext = useContext(ThemeContext)\n  return (\n    <Notification\n      icon={<Question height=\"80px\" color=\"#FFF\" />}\n      content={children}\n      backgroundColour={themeContext.colors.info}\n    />\n  )\n}\n","import React, { FunctionComponent, useContext } from 'react'\nimport { ThemeContext } from 'styled-components'\nimport { ReactComponent as Exclamation } from '../images/exclamation-triangle-solid.svg'\nimport { Notification } from './notification'\n\ninterface ErrorNotificationProps {}\n\nexport const ErrorNotifcation: FunctionComponent<ErrorNotificationProps> = ({ children }) => {\n  const themeContext = useContext(ThemeContext)\n  return (\n    <Notification\n      icon={<Exclamation height=\"80px\" color=\"#FFF\" />}\n      content={children}\n      backgroundColour={themeContext.colors.error}\n    />\n  )\n}\n","import React, { FunctionComponent } from 'react'\n\nimport { useAppState } from '../../contexts/app-context'\n\ninterface ProcessingMessageProps {}\n\nconst ProcessingMessage: FunctionComponent<ProcessingMessageProps> = () => {\n  const { processingMessage } = useAppState()\n\n  return <span>{processingMessage}</span>\n}\n\nexport { ProcessingMessage }\n","import React, { FunctionComponent } from 'react'\n\nimport styled from 'styled-components'\n\nimport { useAppState } from '../../contexts/app-context'\n\nconst StyledAnchor = styled.a`\n  display: block;\n  padding: 5px 10px;\n  margin: 14px;\n  background-color: ${(props) => props.theme.colors.buttons.action.main};\n  color: ${(props) => props.theme.colors.buttons.action.text};\n  cursor: pointer;\n  user-select: none;\n  transition: all 0.15s ease;\n  border: 1px solid black;\n  font-size: calc(10px + 2vmin);\n  text-decoration: none;\n\n  :hover {\n    transform: translate(8px, -8px);\n    box-shadow: -1px 1px ${(props) => props.theme.colors.buttons.action.hover},\n      -2px 2px ${(props) => props.theme.colors.buttons.action.hover},\n      -3px 3px ${(props) => props.theme.colors.buttons.action.hover},\n      -4px 4px ${(props) => props.theme.colors.buttons.action.hover},\n      -5px 5px ${(props) => props.theme.colors.buttons.action.hover},\n      -6px 6px ${(props) => props.theme.colors.buttons.action.hover},\n      -7px 7px ${(props) => props.theme.colors.buttons.action.hover},\n      -8px 8px ${(props) => props.theme.colors.buttons.action.hover};\n  }\n`\n\ninterface DownloadButtonProps {}\n\nconst DownloadButton: FunctionComponent<DownloadButtonProps> = () => {\n  const { intensifiedImage, isLoading, filename } = useAppState()\n  const downloadName = `${filename?.split('.')[0]}-intensified`\n\n  return (\n    <>\n      {intensifiedImage?.src && !isLoading && (\n        <StyledAnchor href={intensifiedImage.src} download={downloadName}>\n          Download\n        </StyledAnchor>\n      )}\n    </>\n  )\n}\n\nexport { DownloadButton }\n","import React, { FunctionComponent } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst StyledAnchor = styled.a`\r\n  :link {\r\n    color: white;\r\n  }\r\n\r\n  :visited {\r\n    color: pink;\r\n  }\r\n\r\n  /* :focus {\r\n  } */\r\n\r\n  :hover {\r\n    text-decoration: none;\r\n  }\r\n\r\n  /* :active {\r\n  } */\r\n`\r\n\r\ninterface LinkProps {\r\n  url: string\r\n  text: string\r\n}\r\n\r\nexport const Link: FunctionComponent<LinkProps> = ({ url, text }) => (\r\n  <StyledAnchor href={url} rel=\"noreferrer noopener\" target=\"_blank\">\r\n    {text}\r\n  </StyledAnchor>\r\n)\r\n","import React, { FunctionComponent } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport { GifSelector } from '../gif-selector'\r\nimport { ImagePreview } from '../image-preview'\r\nimport { LoadingIndicator } from '../loading-indicator'\r\nimport { Checkbox } from '../checkbox'\r\nimport { IntensitySlider } from '../intensity-slider'\r\nimport { InfoNotifcation } from '../info-notification'\r\nimport { ErrorNotifcation } from '../error-notification'\r\nimport { ProcessingMessage } from '../processing-message'\r\nimport { DownloadButton } from '../download-button'\r\nimport { Link } from '../link'\r\n\r\nconst IntensifyImageContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n`\r\n\r\nconst ControlsContainer = styled.div``\r\n\r\nconst InfoContainer = styled.div`\r\n  max-width: 450px;\r\n`\r\n\r\ninterface IntensifyImageVisualProps {\r\n  intensifiedImage?: HTMLImageElement\r\n  isLoading: boolean\r\n  hasError: boolean\r\n  onImageSelected: (files?: FileList) => void\r\n  onRemoveBackgroundChanged: (isChecked: boolean) => void\r\n  onIntensityChanged: (value: number) => void\r\n  onIntensityChange: (value: number) => void\r\n  useRemoveBg: boolean\r\n  isRemoveBgDisabled: boolean\r\n  intensity: number\r\n}\r\n\r\nconst IntensifyImageVisual: FunctionComponent<IntensifyImageVisualProps> = ({\r\n  intensifiedImage,\r\n  isLoading,\r\n  hasError,\r\n  onImageSelected,\r\n  onRemoveBackgroundChanged,\r\n  onIntensityChanged,\r\n  onIntensityChange,\r\n  useRemoveBg,\r\n  isRemoveBgDisabled,\r\n  intensity,\r\n}) => {\r\n  return (\r\n    <IntensifyImageContainer>\r\n      {intensifiedImage?.src && !isLoading ? <ImagePreview url={intensifiedImage?.src} /> : null}\r\n      {isLoading ? <LoadingIndicator /> : null}\r\n      <ProcessingMessage />\r\n      <DownloadButton />\r\n      <GifSelector onFileSelected={onImageSelected} />\r\n      <InfoContainer>\r\n        {hasError ? <ErrorNotifcation>Something when wrong please refresh and try again.</ErrorNotifcation> : ''}\r\n        {isRemoveBgDisabled ? (\r\n          <InfoNotifcation>\r\n            Can't access the <Link url=\"https://www.remove.bg/\" text=\"remove.bg\" /> API right now, please remove the\r\n            background manually.\r\n          </InfoNotifcation>\r\n        ) : null}\r\n      </InfoContainer>\r\n      <ControlsContainer>\r\n        <Checkbox\r\n          name=\"UseRemoveBg\"\r\n          label=\"Remove background automatically\"\r\n          onChecked={onRemoveBackgroundChanged}\r\n          isChecked={useRemoveBg}\r\n          disabled={isRemoveBgDisabled}\r\n        />\r\n        <IntensitySlider onChange={onIntensityChange} onChangeComplete={onIntensityChanged} value={intensity} />\r\n      </ControlsContainer>\r\n    </IntensifyImageContainer>\r\n  )\r\n}\r\n\r\nexport { IntensifyImageVisual }\r\n","import React, { FunctionComponent } from 'react'\n\nimport { useAppState, useAppDispatch, imageSelected, intensityChanged } from '../../contexts/app-context'\n\nimport { IntensifyImageVisual } from './intensify-image-visual'\n\ninterface IntensifyImageProps {}\n\nconst IntensifyImage: FunctionComponent<IntensifyImageProps> = () => {\n  const {\n    intensity,\n    useRemoveBg,\n    intensifiedImage,\n    isLoading,\n    hasError,\n    scaledImage,\n    removeBgRateLimited,\n  } = useAppState()\n  const appDispatch = useAppDispatch()\n  const onImageSelected = (files?: FileList) => {\n    imageSelected(appDispatch, intensity, useRemoveBg, files)\n  }\n\n  return (\n    <IntensifyImageVisual\n      isRemoveBgDisabled={removeBgRateLimited}\n      onRemoveBackgroundChanged={(isChecked: boolean) => appDispatch({ type: 'useRemoveBg', useRemoveBg: isChecked })}\n      onIntensityChange={(value: number) => appDispatch({ type: 'intensityChange', intensity: value })}\n      onIntensityChanged={(value: number) => intensityChanged(appDispatch, intensity, scaledImage)}\n      intensity={intensity}\n      isLoading={isLoading}\n      hasError={hasError}\n      useRemoveBg={useRemoveBg}\n      intensifiedImage={intensifiedImage}\n      onImageSelected={onImageSelected}\n    />\n  )\n}\n\nexport { IntensifyImage }\n","import React, { FunctionComponent } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst HeaderContainer = styled.header`\r\n  margin-bottom: auto;\r\n`\r\n\r\ninterface HeaderProps {}\r\n\r\nexport const Header: FunctionComponent<HeaderProps> = ({ children }) => <HeaderContainer>{children}</HeaderContainer>\r\n","import React, { FunctionComponent } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst FooterContainer = styled.footer`\r\n  margin-top: auto;\r\n  text-align: center;\r\n  padding: 14px;\r\n`\r\n\r\ninterface FooterProps {}\r\n\r\nexport const Footer: FunctionComponent<FooterProps> = ({ children }) => <FooterContainer>{children}</FooterContainer>\r\n","import React, { FunctionComponent } from 'react'\nimport styled from 'styled-components'\n\nconst StyledTextBlock = styled.p`\n  margin: 4px 0;\n`\n\ninterface TextBlockProps {}\n\nexport const TextBlock: FunctionComponent<TextBlockProps> = ({ children }) => (\n  <StyledTextBlock>{children}</StyledTextBlock>\n)\n","import React, { FunctionComponent } from 'react'\n\n// theming\nimport styled, { ThemeProvider } from 'styled-components'\nimport { AppTheme } from './App-theme'\n\n// context\nimport { AppProvider } from './contexts/app-context'\n\n// components\nimport { IntensifyImage } from './components/intensify-image/'\nimport { Header } from './components/header'\nimport { Footer } from './components/footer'\nimport { TextBlock } from './components/text-block'\nimport { Link } from './components/link'\n\nconst AppBody = styled.section`\n  background-color: ${(props) => props.theme.colors.background};\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-family: ${(props) => props.theme.font};\n  color: white;\n`\n\ninterface AppProps {}\n\nconst App: FunctionComponent<AppProps> = () => {\n  return (\n    <ThemeProvider theme={AppTheme}>\n      <AppProvider>\n        <AppBody>\n          <Header />\n          <IntensifyImage />\n          <Footer>\n            <TextBlock>\n              Create a silly slack emoji that bounces around with a transparent background just by uploading an image.\n              For best results use <Link url=\"https://www.remove.bg/\" text=\"remove.bg\" /> to remove the background and\n              use a downscaled image.\n            </TextBlock>\n            <TextBlock>\n              Made by: Adrian De Lisle.{' '}\n              <Link url=\"https://github.com/adriandelisle/intensifies-transparency\" text=\"Source on GitHub\" />\n            </TextBlock>\n            <TextBlock>\n              Uses <Link url=\"https://fontawesome.com/license\" text=\"Font Awesome Icons\" />\n            </TextBlock>\n          </Footer>\n        </AppBody>\n      </AppProvider>\n    </ThemeProvider>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}